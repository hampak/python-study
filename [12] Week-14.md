## 예외 처리(Exception Handling) - try & except

예외 처리는 파이썬 프로그래밍 실행하는 과정에서 오류가 발생하면 프로그래머가 프로그램 실행을 중단시키기 않고 예외 처리를 통해 프로그램을 계속 실행하고자 할 때 사용한다.

```py
try:
  에러 발생 가능성이 있는 코드 / 기본적으로 실행되는 정상 코드
except:
  에러가 발생하면 동작하는 코드
```

간단한 코드를 살펴보자:
```py
try:
  num = int(input("정수 입력: "))
  n = int(input("나눌 수: "))
  if num % n == 0:
    print("짝수 입니다.")
  else:
    print("홀수 입니다.")
except:
  print("오류 발생")

# 정수 입력: 0
# 나눌 수: 0
# 오류 발생
```

![14주_예외 처리와 파일 처리](https://github.com/hampak/python-study/assets/85291626/fc4d941e-59ba-4171-b902-6fd24429094d)

> 나눗셈 연산 시 0으로 나눌 수 없을 때 발생하는 예외 처리

```py
try:
  num1 = int(input("숫자1: "))
  num2 = int(input("숫자2: "))
  result = num1 / num2
  print("{} / {} = {}".format(num1, num2, result))

except ZeroDivisionError:
  print("숫자는 0으로 나눌 수 없습니다.")

# 숫자1: 15
# 숫자2: 3
# 15 / 3 = 5.0

# 숫자1: 15
# 숫자2: 0
# 숫자는 0으로 나눌 수 없습니다.
```

다른 유형의 에러처리도 살펴보자:

```py
numList = [15, 12, 7, 14, 24]

try:
  idx = int(input("리스트 항목 인덱스 위치를 입력하세요: "))
  num = int(input("나눌 숫자를 입력하세요: "))
  print(f"{numList[idx]} / {num} = {numList[idx] // num}")
except ZeroDivisionError:
  print("0으로 나눌 수 없습니다.")
except IndexError:
  print("인덱스 오류")

# 리스트 항목 인덱스 위치를 입력하세요: 3
# 나눌 숫자를 입력하세요: 2
# 14 / 2 = 7

# 리스트 항목 인덱스 위치를 입력하세요: 5
# 나눌 숫자를 입력하세요: 2
# 인덱스 오류
```

## 예외 처리(Exception Handling) - try & except & else & finally

- try 문에서 오류가 발생하면 except 문이 실행되지만, 오류가 발생하지 않으면 else 문이 실행되는 예외 처리이다.
- finally 문은 예외 발생 여부와 상관없이 무조건 실행하는 문으로, **finally 문은 생략이 가능한다**.

```py
try:
  에러 발생 가능성이 있는 코드
except:
  에러가 발생되면 동작할 코드
else:
  에러가 발생하지 않았을 경우 실행되는 코드 / 예외 처리할 에러가 발생하지 않을 때 실행되는 코드
finally:
  에러 여부와 상관없이 무조건 실행되는 코드 / 에러 발생 여부와 상관없이 무조건 실행되는 코드
```

다음 코드를 살펴보자:

```py
try:
  num1 = int(input("숫자 정수: "))
  num2 = int(input("나눌 숫자: "))
  div = num1 / num2
  print("{}".format(div))
except ZeroDivisionError:
  print("숫자는 0으로 나눌 수 없습니다.")
else:
  print("else 처리문입니다.")
finally:
  print("finally는 항상 처리되는 문입니다.")

# 숫자 정수: 25
# 나눌 숫자: 5
# 5.0
# else 처리문입니다. -> 에러가 없으므로 출력
# finally는 항상 처리되는 문입니다.

# 숫자 정수: 25
# 나눌 숫자: 0
# 숫자는 0으로 나눌 수 없습니다.
# finally는 항상 처리되는 문입니다.
```

### 간단한 실습

> 리스트 `listStr=["python", "programming", "seoul", "korea", "university"]`에 사용자가 문자열 위치를 입력하여, 해당 문자열 항목에 대한 글자 개수를 출력하는 프로그램을 작성하시오. 단, 해당 인덱스가 없다면 예외 처리를 실행하시오.

```py
# 문자열 인덱스를 입력하세요: 1
> programming.... 11

# 문자열 인덱스를 입력하세요: 6
> 찾고자 하는 인덱스가 없습니다.
```

```py
listStr=["python", "programming", "seoul", "korea", "university"]

try:
  idx = int(input("문자열 인덱스를 입력하세요: "))
  numOfLetters = 0
  print(f"{listStr[idx]}.... {len(listStr[idx])}")

except IndexError:
  print("찾고자 하는 인덱스가 없습니다.")

# 문자열 인덱스를 입력하세요: 1
# programming.... 11

# 문자열 인덱스를 입력하세요: 6
# 찾고자 하는 인덱스가 없습니다.

# --------- OR ---------

listStr=["python", "programming", "seoul", "korea", "university"]

try:
  idx = int(input("문자열 인덱스를 입력하세요: "))
  listLen = list(map(len, listStr))
  print(f"{listStr[idx]}.... {listLen[idx]}")

except IndexError:
  print("찾고자 하는 인덱스가 없습니다.")

# same results
```

---

## 파일(file) 처리

![14주_예외 처리와 파일 처리 2](https://github.com/hampak/python-study/assets/85291626/065c0a38-5b92-43f3-9a2e-b91332a8330f)

### 파일 열기 객체 생성
- `open()`: 파일을 사용하기 위해서는 `open()` 함수를 사용한다.
- `open()` 함수로 파일 호출이 완료되면 파일 객체를 반환해준다. 이 때, 생성된 객체를 통해서 읽기, 쓰기 작업이 이루어진다.
- **또한, 파일 사용에 대한 작업이 완료하면 반드시 파일 객체는 `close()` 함수로 닫아주어야 한다.**

```py
파일객체 = open("파일명", "r", encoding="한글코드(uft-8)") # 마지막으로 생략 가능
```

그럼 다음 코드를 살펴보자. `sample.txt`라는 파일을 만들어 볼 거다.











